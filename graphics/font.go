package graphics

// PixelFont represents a bitmap font used for pixel rendering.
type PixelFont struct {
	Width   int
	Height  int
	Spacing int
	Glyphs  map[rune][]string
}

// Glyph returns the glyph rows for the rune.
func (f *PixelFont) Glyph(r rune) []string {
	if f == nil {
		return nil
	}
	if glyph, ok := f.Glyphs[r]; ok {
		return glyph
	}
	if r >= 'a' && r <= 'z' {
		if glyph, ok := f.Glyphs[r-('a'-'A')]; ok {
			return glyph
		}
	}
	if glyph, ok := f.Glyphs['?']; ok {
		return glyph
	}
	return nil
}

// DefaultFont is a compact 3x5 pixel font.
var DefaultFont = &PixelFont{
	Width:   3,
	Height:  5,
	Spacing: 1,
	Glyphs: map[rune][]string{
		' ':  {"...", "...", "...", "...", "..."},
		'0':  {"###", "#.#", "#.#", "#.#", "###"},
		'1':  {".#.", "##.", ".#.", ".#.", "###"},
		'2':  {"###", "..#", "###", "#..", "###"},
		'3':  {"###", "..#", "###", "..#", "###"},
		'4':  {"#.#", "#.#", "###", "..#", "..#"},
		'5':  {"###", "#..", "###", "..#", "###"},
		'6':  {"###", "#..", "###", "#.#", "###"},
		'7':  {"###", "..#", "..#", "..#", "..#"},
		'8':  {"###", "#.#", "###", "#.#", "###"},
		'9':  {"###", "#.#", "###", "..#", "###"},
		'A':  {".#.", "#.#", "###", "#.#", "#.#"},
		'B':  {"##.", "#.#", "##.", "#.#", "##."},
		'C':  {".##", "#..", "#..", "#..", ".##"},
		'D':  {"##.", "#.#", "#.#", "#.#", "##."},
		'E':  {"###", "#..", "##.", "#..", "###"},
		'F':  {"###", "#..", "##.", "#..", "#.."},
		'G':  {".##", "#..", "#.#", "#.#", ".##"},
		'H':  {"#.#", "#.#", "###", "#.#", "#.#"},
		'I':  {"###", ".#.", ".#.", ".#.", "###"},
		'J':  {"..#", "..#", "..#", "#.#", ".#."},
		'K':  {"#.#", "##.", "#..", "##.", "#.#"},
		'L':  {"#..", "#..", "#..", "#..", "###"},
		'M':  {"#.#", "###", "###", "#.#", "#.#"},
		'N':  {"#.#", "##.", "#.#", ".##", "#.#"},
		'O':  {".#.", "#.#", "#.#", "#.#", ".#."},
		'P':  {"##.", "#.#", "##.", "#..", "#.."},
		'Q':  {".#.", "#.#", "#.#", ".##", "..#"},
		'R':  {"##.", "#.#", "##.", "#.#", "#.#"},
		'S':  {".##", "#..", ".#.", "..#", "##."},
		'T':  {"###", ".#.", ".#.", ".#.", ".#."},
		'U':  {"#.#", "#.#", "#.#", "#.#", "###"},
		'V':  {"#.#", "#.#", "#.#", "#.#", ".#."},
		'W':  {"#.#", "#.#", "###", "###", "#.#"},
		'X':  {"#.#", "#.#", ".#.", "#.#", "#.#"},
		'Y':  {"#.#", "#.#", ".#.", ".#.", ".#."},
		'Z':  {"###", "..#", ".#.", "#..", "###"},
		'.':  {"...", "...", "...", "...", ".#."},
		'-':  {"...", "...", "###", "...", "..."},
		':':  {"...", ".#.", "...", ".#.", "..."},
		'!':  {".#.", ".#.", ".#.", "...", ".#."},
		'?':  {"###", "..#", ".#.", "...", ".#."},
		'+':  {"...", ".#.", "###", ".#.", "..."},
		'/':  {"..#", ".#.", "#..", "...", "..."},
		'"':  {"#.#", "#.#", "...", "...", "..."},
		'\'': {".#.", ".#.", "...", "...", "..."},
		'_':  {"...", "...", "...", "...", "###"},
	},
}

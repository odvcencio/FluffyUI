# Internationalization (i18n)

FluffyUI provides a lightweight `i18n` package and runtime wiring so apps can
localize text without pulling in heavy dependencies.

## Bundle + Localizer

```go
bundle := i18n.NewBundle("en")
bundle.AddMessages("en", map[string]string{
    "hello": "Hello {0}",
})
bundle.AddMessages("es", map[string]string{
    "hello": "Hola {0}",
})

localizer := bundle.Localizer("es")
fmt.Println(localizer.Tf("hello", "World"))
```

Placeholders use `{0}` or `{}` tokens and are substituted in order.

## Wiring into an app

```go
app := runtime.NewApp(runtime.AppConfig{
    Root:      root,
    Localizer: bundle.Localizer("es"),
})
```

Widgets can access the localizer via `runtime.Services` when needed:

```go
func (w *MyWidget) Render(ctx runtime.RenderContext) {
    loc := w.Services.Localizer()
    text := "Hello"
    if loc != nil {
        text = loc.Tf("hello", "World")
    }
    ctx.Buffer.SetString(w.Bounds().X, w.Bounds().Y, text, backend.DefaultStyle())
}
```

## Tips

- Keep message keys stable; avoid embedding full sentences in code.
- Use format placeholders for runtime values.
- Provide a fallback locale in `i18n.NewBundle`.
